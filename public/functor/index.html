<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="initial-scale=1,  minimum-scale=1, maximum-scale=1, viewport-fit=cover, width=device-width">
  </meta>
  <meta name="apple-mobile-web-app-capable" content="yes">
  </meta>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  </meta>
  <title>FUNCTOR 001</title>
  <link rel="manifest" href="/functor/manifest.json" />
  <link rel="stylesheet" href="/assets/css/functor.css">
  </style>
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
  <script src="/assets/lib/aframe-ar.js"></script>
  <script src="/assets/js/pigeon-functor.js" type="module"></script>
  <script src="/assets/js/aframe-emoji-boid.js" type="module"></script>
  <script src="/assets/js/emoji-starter.js" type="module"></script>
  <script src="/assets/js/peerjs-functor.js" type="module"></script>
</head>

<body style="margin : 0px; overflow: hidden;">
  <div style="position: absolute; bottom: 0; left: 0; width: 100px; min-height:100px; height: 100px; min-height:100px; border: 1px solid blue; background-color: white; z-index: 100;">
    <video id="videoMerged" autoplay muted playsinline style="width: 100px; min-height:100px; height: 100px;"></video>
    <div style="background-color: blue; color: white;">mergedCanvas</div>
  </div>

  <a-scene xr-mode-ui="enabled: true" embedded arjs emoji-starter functor-webrtc-sender>
    <a-marker preset="hiro">
      <a-box position="0 0.5 0" material="color: red;"></a-box>
    </a-marker>

    <a-assets>
      <a-asset-item id="room" src="/assets/gltf/pa.glb"></a-asset-item>
      <img id="emoji1" src="/assets/images/emoji1.png" />
      <img id="emoji2" src="/assets/images/emoji2.png" />
      <img id="emoji3" src="/assets/images/emoji3.png" />
      <img id="emoji4" src="/assets/images/emoji4.png" />
      <img id="emoji5" src="/assets/images/emoji5.png" />
    </a-assets>

    <a-entity id="emojiAstage" position="0 1.55 0" animation="property:rotation; dur: 30000; fill: forwards; from: 0, 0, 0; to: 0 360 0; loop: true; easing: linear;startEvents: emojistart;">
      <a-plane src="#emoji1" id="emojiA" height="0.3" width="0.3" position="0 0.2 -1.6" rotation="0 0 0" material="transparent: true; side: double; alphaTest: 0.1;"
        animation="property:position; dur: 12000; fill: forwards; from: 0 0.2 -1.6; to: 0 -0.2 -1.6; loop: true; dir: alternate; easing: easeInOutSine; startEvents: emojistart;"></a-plane>
    </a-entity>

    <a-entity id="emojiBstage" position="0 1.55 0" animation="property:rotation; dur: 45000; fill: forwards; from: 0, 0, 0; to: 0 360 0; loop: true; easing: linear;startEvents: emojistart;">
      <a-plane src="#emoji2" id="emojiB" height="0.4" width="0.4" position="0 0.3 0.8" rotation="0 0 0" material="transparent: true; side: double; alphaTest: 0.1;"
        animation="property:position; dur: 11000; fill: forwards; from: 0 0.3 0.8; to: 0 -0.1 0.8; loop: true; dir: alternate; easing: easeInOutSine; startEvents: emojistart;"></a-plane>
    </a-entity>

    <a-entity id="emojiCstage" position="0 1.55 0" animation="property:rotation; dur: 40000; fill: forwards; from: 0, 0, 0; to: 0 360 0; loop: true; easing: linear;startEvents: emojistart;">
      <a-plane src="#emoji3" id="emojiC" height="0.3" width="0.3" position="0.8 0.4 1.2" rotation="0 0 0" material="transparent: true; side: double; alphaTest: 0.1;"
        animation="property:position; dur: 10000; fill: forwards; from: 0.8 0.4 1.2; to: 0.8 -0.2 1.2; loop: true; dir: alternate; easing: easeInOutSine; startEvents: emojistart;"></a-plane>
    </a-entity>

    <a-entity id="emojiDstage" position="0 1.55 0" animation="property:rotation; dur: 35000; fill: forwards; from: 0, 0, 0; to: 0 360 0; loop: true; easing: linear;startEvents: emojistart;">
      <a-plane src="#emoji4" id="emojiD" height="0.4" width="0.4" position="-0.4 0.1 1.1" rotation="0 0 0" material="transparent: true; side: double; alphaTest: 0.1;"
        animation="property:position; dur: 14000; fill: forwards; from: -0.4 0.1 1.1; to: -0.4 -0.2 1.1; loop: true; dir: alternate; easing: easeInOutSine; startEvents: emojistart;"></a-plane>
    </a-entity>

    <a-entity id="emojiEstage" position="0 1.55 0" animation="property:rotation; dur: 25000; fill: forwards; from: 0, 0, 0; to: 0 360 0; loop: true; easing: linear;startEvents: emojistart;">
      <a-plane src="#emoji5" id="emojiE" height="0.3" width="0.3" position="-0.1 0.7 -1" rotation="0 0 0" material="transparent: true; side: double; alphaTest: 0.1;"
        animation="property:position; dur: 13000; fill: forwards; from: -0.1 0.7 -1; to: -0.1 0.1 -1; loop: true; dir: alternate; easing: easeInOutSine; startEvents: emojistart;"></a-plane>
    </a-entity>

    <a-camera look-controls="enabled: true" position="0 1.55 0" pigeon-functor></a-camera>
  </a-scene>
</body>

</html>